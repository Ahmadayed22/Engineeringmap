import{b as x,w as h,a as f,F as w,r as b,x as j,j as e}from"./index-c9vc9UyB.js";import{s as S,a as y,I as i,S as F}from"./signUpSchema-E2xuDp8X.js";import{u as N}from"./index.esm-6paqUQWh.js";import"./index-GHJnmhsQ.js";import{B as P}from"./Button-CJS50_nH.js";import{A as v}from"./Alert--r2vVz7B.js";const A=()=>{const{loading:s,error:c,accessToken:r}=x(a=>a.auth),{register:l,handleSubmit:t,formState:{errors:d}}=N({mode:"onBlur",resolver:S(y)}),o=h(),n=f();return{register:l,handleSubmit:t,loading:s,accessToken:r,error:c,errors:d,submitForm:a=>{const{confirmPassword:p,...m}=a;o(w(m)).unwrap().then(()=>{n("/login?message=accountCreated")})},dispatch:o,navigate:n}},Y=()=>{var a,p,m,g;const{register:s,handleSubmit:c,errors:r,submitForm:l,dispatch:t,loading:d,error:o,accessToken:n,navigate:u}=A();return b.useEffect(()=>{t(j())},[t]),n&&u("/"),e.jsx("div",{children:e.jsxs("form",{className:"flex max-w-md flex-col gap-4 mx-auto h-screen justify-center ",onSubmit:c(l),children:[e.jsx(i,{register:s,label:"Your UserName",id:"username",name:"username",type:"text",placeholder:"aboayed22",error:(a=r.username)==null?void 0:a.message}),e.jsx(i,{register:s,label:"Your Email",id:"email",name:"email",type:"email",placeholder:"aboayed22@gmail.com",error:(p=r.email)==null?void 0:p.message}),e.jsx(i,{register:s,label:"Your Password",id:"password",name:"password",type:"password",placeholder:"***********",error:(m=r.password)==null?void 0:m.message}),e.jsx(i,{register:s,label:"Confirm Password",id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"***********",error:(g=r.confirmPassword)==null?void 0:g.message}),e.jsx(P,{type:"submit",className:"cursor-pointer",children:d==="pending"?e.jsxs(e.Fragment,{children:[e.jsx(F,{}),e.jsx("span",{className:"ml-2",children:"Logging ..."})]}):"Register new account"}),o&&e.jsx(v,{color:"failure",className:"text-red-500 text-center",children:o})]})})};export{Y as default};
