import{G as g,w as h,a as x,b as f,H as b,r as j,x as S,j as e}from"./index-c9vc9UyB.js";import{s as w,b as N,I as d,S as A}from"./signUpSchema-E2xuDp8X.js";import{u as F}from"./index.esm-6paqUQWh.js";import"./index-GHJnmhsQ.js";import{A as p}from"./Alert--r2vVz7B.js";import{B as v}from"./Button-CJS50_nH.js";const y=()=>{const{register:r,handleSubmit:i,formState:{errors:a}}=F({mode:"onBlur",resolver:w(N)}),[t,l]=g(),o=h(),s=x(),{loading:m,error:n,accessToken:c}=f(u=>u.auth);return{register:r,handleSubmit:i,errors:a,submitForm:u=>{t.get("message")==="accountCreated"&&l(""),o(b(u)).unwrap().then(()=>{s("/")})},searchParams:t,loading:m,error:n,dispatch:o,navigate:s,accessToken:c}},Y=()=>{var n,c;const{register:r,handleSubmit:i,errors:a,submitForm:t,searchParams:l,loading:o,error:s,dispatch:m}=y();return j.useEffect(()=>{m(S())},[m]),e.jsxs("div",{className:"max-w-md mx-auto h-screen mt-[15%]",children:[e.jsx("div",{className:"mb-4",children:l.get("message")==="accountCreated"&&e.jsx(p,{className:"text-green-500 text-center",children:"Account created successfully, please log in."})}),e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:i(t),children:[e.jsx(d,{register:r,label:"Your Email",id:"email",name:"email",type:"email",placeholder:"aboayed22@gmail.com",error:(n=a.email)==null?void 0:n.message}),e.jsx(d,{register:r,label:"Your Password",id:"password",name:"password",type:"password",placeholder:"***********",error:(c=a.password)==null?void 0:c.message}),e.jsx(v,{type:"submit",className:"cursor-pointer",children:o==="pending"?e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsx("span",{className:"ml-2",children:"Logging ..."})]}):"Login"}),s&&e.jsx(p,{color:"failure",className:"text-red-500 text-center",children:s})]})]})};export{Y as default};
